<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Style Vault - Hombre</title>
    <link rel="icon" href="img/logo-etiqueta-html.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="productos.css">
</head>

<body>

    <!-- Cortina de carga -->
    <div class="curtain"></div>

    <section class="products-section" id="products">
        <!-- Botón volver al inicio -->
        <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Volver al inicio</a>

        <!-- Header -->
        <div class="section-header">
            <h2>Productos Destacados</h2>
            <p>Seleccionamos lo mejor para ti. Moda urbana y casual que combina con tu estilo de vida.</p>
        </div>

        <!-- Grid de productos -->
        <div class="product-grid">
            <div class="product-card" data-name="Camisa Casual" data-price="5000">
                <div class="product-image">
                    <img src="img/remera-main.png" alt="Camisa Casual">
                </div>
                <div class="product-info">
                    <h3>Camisa Casual</h3>
                    <p>Perfecta para un look relajado y moderno.</p>
                    <a href="#" class="btn add-to-cart">Agregar al Carrito</a>
                </div>
            </div>

            <div class="product-card" data-name="Chaqueta Urbana" data-price="12000">
                <div class="product-image">
                    <img src="img/remera.png" alt="Chaqueta Urbana">
                </div>
                <div class="product-info">
                    <h3>Chaqueta Urbana</h3>
                    <p>Ideal para días frescos y estilo contemporáneo.</p>
                    <a href="#" class="btn add-to-cart">Agregar al Carrito</a>
                </div>
            </div>

            <div class="product-card" data-name="Zapatos Deportivos" data-price="9000">
                <div class="product-image">
                    <img src="img/remera.png" alt="Zapatos Deportivos">
                </div>
                <div class="product-info">
                    <h3>Zapatos Deportivos</h3>
                    <p>Comodidad y estilo para tu día a día.</p>
                    <a href="#" class="btn add-to-cart">Agregar al Carrito</a>
                </div>
            </div>

            <div class="product-card" data-name="Pantalón Casual" data-price="7000">
                <div class="product-image">
                    <img src="img/remera.png" alt="Pantalón Casual">
                </div>
                <div class="product-info">
                    <h3>Pantalón Casual</h3>
                    <p>Versátil y cómodo para cualquier ocasión.</p>
                    <a href="#" class="btn add-to-cart">Agregar al Carrito</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Carrito -->
    <section class="cart-section" id="cart">
        <div class="cart-header">
            <h2><i class="fas fa-shopping-cart"></i> Tu Carrito</h2>
            <button class="close-cart"><i class="fas fa-times"></i></button>
        </div>

        <div class="cart-items">
            <!-- Los productos se insertan dinámicamente aquí -->
        </div>

        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cart-total-price">$0</span>
            </div>
            <button class="btn checkout-btn">Finalizar Compra</button>
        </div>
    </section>

    <!-- Botón flotante para abrir el carrito -->
    <button class="floating-cart-btn">
    <i class="fas fa-shopping-cart"></i>
    <span class="cart-count">0</span>
</button>


    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const cartSection = document.querySelector(".cart-section");
            const floatingCartBtn = document.querySelector(".floating-cart-btn");
            const closeCartBtn = document.querySelector(".close-cart");
            const cartItemsContainer = document.querySelector(".cart-items");
            const cartTotalPrice = document.getElementById("cart-total-price");
            const cartCount = document.querySelector(".cart-count");
            const addToCartButtons = document.querySelectorAll(".add-to-cart");

            let cart = [];

            // Abrir carrito
            floatingCartBtn.addEventListener("click", () => {
                cartSection.classList.add("active");
            });

            // Cerrar carrito
            closeCartBtn.addEventListener("click", () => {
                cartSection.classList.remove("active");
            });

            // Agregar producto
            addToCartButtons.forEach(btn => {
                btn.addEventListener("click", e => {
                    e.preventDefault();
                    const productCard = btn.closest(".product-card");
                    const name = productCard.dataset.name;
                    const price = parseFloat(productCard.dataset.price);
                    const imgSrc = productCard.querySelector("img").src;

                    const existing = cart.find(item => item.name === name);
                    if (existing) {
                        existing.quantity++;
                    } else {
                        cart.push({
                            name,
                            price,
                            imgSrc,
                            quantity: 1
                        });
                    }
                    updateCart();
                });
            });

            // Actualizar carrito
            function updateCart() {
                cartItemsContainer.innerHTML = "";
                let total = 0;

                cart.forEach((item, index) => {
                    total += item.price * item.quantity;

                    const cartItem = document.createElement("div");
                    cartItem.classList.add("cart-item");
                    cartItem.innerHTML = `
                <img src="${item.imgSrc}" alt="${item.name}">
                <div class="cart-item-info">
                    <h4>${item.name}</h4>
                    <p>$${item.price} x ${item.quantity}</p>
                </div>
                <div class="cart-item-actions">
                    <button class="remove-item" data-index="${index}"><i class="fas fa-trash"></i></button>
                </div>
            `;
                    cartItemsContainer.appendChild(cartItem);
                });

                cartTotalPrice.textContent = `$${total}`;
                cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);

                // Eliminar producto
                document.querySelectorAll(".remove-item").forEach(btn => {
                    btn.addEventListener("click", () => {
                        const index = btn.dataset.index;
                        cart.splice(index, 1);
                        updateCart();
                    });
                });
            }
        });
    </script>
</body>

</html>